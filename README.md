# 项目文档



server

绑定的IP与端口号在conf.json文件里



### 通信协议

#### 发送消息：先发消息大小，在发消息内容

1.发送消息前先发送消息大小，消息大小由15个字节组成

2.发送的消息存放在字典里由 消息类型、发信人、接信人、信息内容四部分组成

3.字典结构

{

"type":  消息类型,

"addresser" :  发信人,

"recipients" : 收信人,

"message": 消息内容

}

#### 接收消息

先接收15字节的消息大小

在来接收内容



#### 数据类型

"type": 1    私聊 

"type": 2     注册信息        注册成功 "message": 0，失败则 "message": 1

"type": 3     校验用户名    0用户不存在，1用户存在

”type“: 4     登录信息          0 登陆校验通过，1 登陆校验失败

”type“: 5     查看所有用户请求

”type“: 6      添加好友请求

"type": 7      获取好友列表

"type": 8      群聊信息

”type“: 9       删除好友

”type“: 10     保存个人信息

“type”: 11     提取个人信息





### 数据库使用

基本用户表

uname用户名(主键):char(30) |upass密码:char(60)   



```
+-------+----------+------+-----+---------+-------+
| Field | Type     | Null | Key | Default | Extra |
+-------+----------+------+-----+---------+-------+
| uname | char(30) | NO   | PRI | NULL    |       |
| upass | char(60) | NO   |     | NULL    |       |
+-------+----------+------+-----+---------+-------+


```





